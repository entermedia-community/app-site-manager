##Exising ones 
##No existing programs found.
<form name="saveproject" id="saveproject" action="$apphome/site/sitedeployer/add/saveorganization.html" method="post" class="force-validate-inputs">
	<input type="hidden" name="save" value="true" />
	<input type="hidden" name="searchtype" value="librarycollection" />
	
	<input type="hidden" name="field" value="owner" />
	<input type="hidden" name="owner.value" value="$user.getId()" />
	
	<input type="hidden" name="collectionroot" value="$sitelink/app/collective/sites/index.html" />
	
##	#set( $searcher = $mediaarchive.getSearcher("librarycollection") )
##	$context.putPageValue("searcher",$searcher)
##	$context.putPageValue("view", "project/addnew")
	
##	$pages.include("/$applicationid/components/xml/detaileditor4.html", $context)
	<div class="form-group">
	<input type="hidden" name="field" value="name" />
	<input type="text" name="name.value" id="name.value" value="" class="form-control" />
  	</div>
  	<div id="loadingresult"></div>
</form>


<script>
$("#saveproject").validate({
  rules: {
	"name\.value": {
	  required: true,
	  minlength: 3,
	  maxlength: 20,
	  remote: "$sitelink/app/site/sitedeployer/add/verifyproject.html"
	}
  },
  messages: {
	"name\.value": {
	  remote: "That Project Name is already taken, please try different one."
	}
  },
  errorElement: "div",
  errorClass: "errormsg",
  errorPlacement: function(error, element) {
	  error.appendTo( element.closest(".form-group").parent() );
	},
  submitHandler: function(form) {
	   $("#loadingresult").show();
	   $(form).submit();
	   
	  }
});
</script>
